-- CYBER BADGE â€” CREATOR MODE
-- Callsign diganti -> CREATOR
-- By rii
-- Updated: Part Count Setting + Reset Feature + Node CYBER-08

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Hapus GUI lama jika ada
if PlayerGui:FindFirstChild("CyberBadgeV3") then
    PlayerGui.CyberBadgeV3:Destroy()
end

if PlayerGui:FindFirstChild("LagSwitchUI") then
    PlayerGui.LagSwitchUI:Destroy()
end

-- ==================== CYBER BADGE UI DENGAN NODE CYBER-08 ====================

local Gui = Instance.new("ScreenGui")
Gui.Name = "CyberBadgeV3"
Gui.ResetOnSpawn = false
Gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Gui.Parent = PlayerGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 260, 0, 150)
Frame.Position = UDim2.new(0.5, -130, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BackgroundTransparency = 0.3
Frame.BorderSizePixel = 0
Frame.ZIndex = 100
Frame.Parent = Gui

local Stroke = Instance.new("UIStroke")
Stroke.Color = Color3.fromRGB(150, 50, 255)
Stroke.Thickness = 5
Stroke.Transparency = 0.9
Stroke.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -20, 0, 22)
Title.Position = UDim2.new(0, 10, 0, 8)
Title.BackgroundTransparency = 1
Title.Text = "CYBER ACCESS"
Title.Font = Enum.Font.SciFi
Title.TextSize = 18
Title.TextColor3 = Color3.fromRGB(200, 150, 255)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Frame

local Info = Instance.new("TextLabel")
Info.Size = UDim2.new(1, -20, 0, 66)
Info.Position = UDim2.new(0, 10, 0, 38)
Info.BackgroundTransparency = 1
Info.TextXAlignment = Enum.TextXAlignment.Left
Info.TextYAlignment = Enum.TextYAlignment.Top
Info.Font = Enum.Font.Code
Info.TextSize = 14
Info.TextColor3 = Color3.fromRGB(180, 240, 255)
Info.Text = "CREATOR   RIII     CYBER-08\nACCESS    AUTHORIZED"  -- Diubah ke CYBER-08
Info.Parent = Frame

local Button = Instance.new("TextButton")
Button.Size = UDim2.new(1, -20, 0, 30)
Button.Position = UDim2.new(0, 10, 1, -40)
Button.BackgroundColor3 = Color3.fromRGB(40, 0, 60)
Button.BackgroundTransparency = 0.2
Button.Text = "ENTER SYSTEM"
Button.Font = Enum.Font.GothamBold
Button.TextSize = 14
Button.TextColor3 = Color3.fromRGB(200, 150, 255)
Button.AutoButtonColor = false
Button.Parent = Frame

local ButtonStroke = Instance.new("UIStroke")
ButtonStroke.Color = Color3.fromRGB(150, 50, 255)
ButtonStroke.Thickness = 1.5
ButtonStroke.Transparency = 0
ButtonStroke.Parent = Button

Button.MouseEnter:Connect(function()
    Button.BackgroundColor3 = Color3.fromRGB(80, 0, 120)
    Button.TextColor3 = Color3.fromRGB(220, 180, 255)
end)

Button.MouseLeave:Connect(function()
    Button.BackgroundColor3 = Color3.fromRGB(40, 0, 60)
    Button.TextColor3 = Color3.fromRGB(200, 150, 255)
end)

-- ==================== LAG SWITCH UI DENGAN FITUR BARU ====================

local function createLagSwitchUI()
    -- Configuration dengan nilai default
    local DefaultFreezeDuration = 0.4
    local DefaultUIWidth = 200
    local DefaultUIHeight = 90
    local DefaultPartCount = 50
    local DefaultPerformanceMode = "HIGH"
    local DefaultDragEnabled = true
    
    -- Current values
    local FreezeDuration = DefaultFreezeDuration
    local Cooldown = 0.2
    local LastFreezeTime = 0
    local IsFreezing = false
    local SettingsOpen = false
    local DragEnabled = DefaultDragEnabled
    local PartCount = DefaultPartCount
    local PerformanceMode = DefaultPerformanceMode
    local UIWidth = DefaultUIWidth
    local UIHeight = DefaultUIHeight
    
    print("ðŸ”„ Creating Lag Switch UI with New Features...")

    -- Create CYBER ICE THEME GUI
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "LagSwitchUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Parent = PlayerGui

    -- Main Cyber Ice Container
    local IceButton = Instance.new("Frame")
    IceButton.Name = "IceButton"
    IceButton.Size = UDim2.new(0, UIWidth, 0, UIHeight)
    IceButton.Position = UDim2.new(0, 10, 0, 120)
    IceButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    IceButton.BackgroundTransparency = 0.4
    IceButton.BorderSizePixel = 0
    IceButton.Active = true
    IceButton.Visible = true
    IceButton.Parent = ScreenGui

    -- SMOOTH PURPLE FLOW BORDER
    local FlowBorder = Instance.new("UIStroke")
    FlowBorder.Name = "FlowBorder"
    FlowBorder.Color = Color3.fromRGB(150, 50, 255)
    FlowBorder.Thickness = 5
    FlowBorder.Transparency = 0.9
    FlowBorder.Parent = IceButton

    -- Settings Button "X"
    local SettingsButton = Instance.new("TextButton")
    SettingsButton.Name = "SettingsButton"
    SettingsButton.Size = UDim2.new(0, 30, 0, 30)
    SettingsButton.Position = UDim2.new(1, -35, 0, 5)
    SettingsButton.BackgroundColor3 = Color3.fromRGB(40, 0, 80)
    SettingsButton.BackgroundTransparency = 0.3
    SettingsButton.Text = "X"
    SettingsButton.TextColor3 = Color3.fromRGB(200, 150, 255)
    SettingsButton.TextSize = 14
    SettingsButton.Font = Enum.Font.GothamBold
    SettingsButton.BorderSizePixel = 0
    SettingsButton.ZIndex = 10
    SettingsButton.Parent = IceButton

    local SettingsButtonStroke = Instance.new("UIStroke")
    SettingsButtonStroke.Color = Color3.fromRGB(180, 100, 255)
    SettingsButtonStroke.Thickness = 2
    SettingsButtonStroke.Transparency = 0.5
    SettingsButtonStroke.Parent = SettingsButton

    -- Cyber Style Button Text "FREZEE"
    local ButtonText = Instance.new("TextLabel")
    ButtonText.Size = UDim2.new(1, 0, 1, 0)
    ButtonText.Position = UDim2.new(0, 0, 0, 0)
    ButtonText.Text = ""
    ButtonText.Font = Enum.Font.SciFi
    ButtonText.TextSize = 22
    ButtonText.TextColor3 = Color3.fromRGB(200, 150, 255)
    ButtonText.BackgroundTransparency = 1
    ButtonText.TextStrokeTransparency = 0.2
    ButtonText.TextStrokeColor3 = Color3.fromRGB(30, 0, 50)
    ButtonText.ZIndex = 4
    ButtonText.TextWrapped = true
    ButtonText.TextYAlignment = Enum.TextYAlignment.Center
    ButtonText.Parent = IceButton

    -- Status Text
    local StatusText = Instance.new("TextLabel")
    StatusText.Name = "StatusText"
    StatusText.Size = UDim2.new(1, 0, 0, 15)
    StatusText.Position = UDim2.new(0, 0, 0.8, 0)
    StatusText.Text = ""
    StatusText.Font = Enum.Font.Code
    StatusText.TextSize = 10
    StatusText.TextColor3 = Color3.fromRGB(180, 100, 255)
    StatusText.BackgroundTransparency = 1
    StatusText.TextStrokeTransparency = 0.5
    StatusText.ZIndex = 4
    StatusText.Parent = IceButton

    -- Click Detector
    local ClickDetector = Instance.new("TextButton")
    ClickDetector.Size = UDim2.new(1, 0, 1, 0)
    ClickDetector.Position = UDim2.new(0, 0, 0, 0)
    ClickDetector.BackgroundTransparency = 1
    ClickDetector.Text = ""
    ClickDetector.ZIndex = 5
    ClickDetector.Parent = IceButton

    -- ==================== SMOOTH PURPLE BORDER ANIMATION ====================
    
    local flowAngle = 90
    local flowSpeed = 132
    local animationConnection
    local borderAnimationPaused = false
    
    local function getBorderColor(angle)
        angle = angle % 360
        
        local transparency
        
        if angle <= 36 then
            transparency = 0.9 - (angle/36 * 0.9)
        elseif angle <= 54 then
            transparency = 0
        elseif angle <= 90 then
            transparency = (angle - 54) / 36 * 0.9
        else
            transparency = 0.9
        end
        
        local patternAngle = angle % 90
        if patternAngle <= 36 then
            transparency = 0.9 - (patternAngle/36 * 0.9)
        elseif patternAngle <= 54 then
            transparency = 0
        elseif patternAngle <= 90 then
            transparency = (patternAngle - 54) / 36 * 0.9
        end
        
        return Color3.fromRGB(150, 50, 255), transparency
    end
    
    local function startSmoothBorderAnimation()
        if animationConnection then
            animationConnection:Disconnect()
        end
        
        if PerformanceMode ~= "HIGH" or borderAnimationPaused then
            return
        end
        
        animationConnection = RunService.RenderStepped:Connect(function(deltaTime)
            if not IceButton or not IceButton.Parent then
                return
            end
            
            flowAngle = (flowAngle + (flowSpeed * deltaTime)) % 360
            
            local color, transparency = getBorderColor(flowAngle)
            
            FlowBorder.Color = color
            FlowBorder.Transparency = transparency
            FlowBorder.Thickness = 4 + math.sin(flowAngle * math.pi / 180) * 1.5
            
            StatusText.TextColor3 = Color3.fromRGB(
                math.clamp(color.R * 255, 100, 255),
                math.clamp(color.G * 255, 50, 200),
                math.clamp(color.B * 255, 200, 255)
            )
        end)
    end
    
    local function stopBorderAnimation()
        if animationConnection then
            animationConnection:Disconnect()
            animationConnection = nil
        end
        
        FlowBorder.Color = Color3.fromRGB(150, 50, 255)
        FlowBorder.Transparency = 0.9
        FlowBorder.Thickness = 5
        StatusText.TextColor3 = Color3.fromRGB(180, 100, 255)
    end

    -- ==================== SETTINGS PANEL DENGAN FITUR BARU ====================

    local SettingsPanel = Instance.new("Frame")
    SettingsPanel.Name = "SettingsPanel"
    SettingsPanel.Size = UDim2.new(0, 300, 0, 450) -- Diperbesar untuk fitur tambahan
    SettingsPanel.Position = UDim2.new(1, 320, 0, 0) -- Start off-screen
    SettingsPanel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    SettingsPanel.BackgroundTransparency = 0.4
    SettingsPanel.BorderSizePixel = 0
    SettingsPanel.Visible = false
    SettingsPanel.ZIndex = 20
    SettingsPanel.Parent = IceButton

    local SettingsPanelBorder = Instance.new("UIStroke")
    SettingsPanelBorder.Color = Color3.fromRGB(150, 50, 255)
    SettingsPanelBorder.Thickness = 3
    SettingsPanelBorder.Transparency = 0.7
    SettingsPanelBorder.Parent = SettingsPanel

    -- Header untuk drag panel
    local SettingsHeader = Instance.new("Frame")
    SettingsHeader.Name = "SettingsHeader"
    SettingsHeader.Size = UDim2.new(1, 0, 0, 30)
    SettingsHeader.Position = UDim2.new(0, 0, 0, 0)
    SettingsHeader.BackgroundColor3 = Color3.fromRGB(30, 0, 60)
    SettingsHeader.BackgroundTransparency = 0.3
    SettingsHeader.BorderSizePixel = 0
    SettingsHeader.ZIndex = 21
    SettingsHeader.Active = true
    SettingsHeader.Parent = SettingsPanel

    local SettingsTitle = Instance.new("TextLabel")
    SettingsTitle.Size = UDim2.new(1, 0, 1, 0)
    SettingsTitle.Position = UDim2.new(0, 0, 0, 0)
    SettingsTitle.Text = "âš™ SETTINGS (Drag â†‘â†“)"
    SettingsTitle.Font = Enum.Font.SciFi
    SettingsTitle.TextSize = 16
    SettingsTitle.TextColor3 = Color3.fromRGB(200, 150, 255)
    SettingsTitle.BackgroundTransparency = 1
    SettingsTitle.TextStrokeTransparency = 0.3
    SettingsTitle.ZIndex = 22
    SettingsTitle.Parent = SettingsHeader

    -- ScrollingFrame untuk konten settings
    local SettingsScroll = Instance.new("ScrollingFrame")
    SettingsScroll.Name = "SettingsScroll"
    SettingsScroll.Size = UDim2.new(1, 0, 1, -30)
    SettingsScroll.Position = UDim2.new(0, 0, 0, 30)
    SettingsScroll.BackgroundTransparency = 1
    SettingsScroll.BorderSizePixel = 0
    SettingsScroll.ScrollBarThickness = 6
    SettingsScroll.ScrollBarImageColor3 = Color3.fromRGB(150, 50, 255)
    SettingsScroll.ScrollBarImageTransparency = 0.7
    SettingsScroll.ZIndex = 21
    SettingsScroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
    SettingsScroll.Parent = SettingsPanel

    -- Container untuk semua settings
    local SettingsContent = Instance.new("Frame")
    SettingsContent.Name = "SettingsContent"
    SettingsContent.Size = UDim2.new(1, 0, 0, 430)
    SettingsContent.BackgroundTransparency = 1
    SettingsContent.ZIndex = 21
    SettingsContent.Parent = SettingsScroll

    -- ==================== DURATION SETTING ====================
    local DurationSection = Instance.new("Frame")
    DurationSection.Name = "DurationSection"
    DurationSection.Size = UDim2.new(1, -20, 0, 60)
    DurationSection.Position = UDim2.new(0, 10, 0, 10)
    DurationSection.BackgroundTransparency = 1
    DurationSection.ZIndex = 21
    DurationSection.Parent = SettingsContent

    local DurationLabel = Instance.new("TextLabel")
    DurationLabel.Size = UDim2.new(1, 0, 0, 20)
    DurationLabel.Position = UDim2.new(0, 0, 0, 0)
    DurationLabel.Text = "FREEZE DURATION (0.1-2.0s):"
    DurationLabel.Font = Enum.Font.Code
    DurationLabel.TextSize = 12
    DurationLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    DurationLabel.BackgroundTransparency = 1
    DurationLabel.TextXAlignment = Enum.TextXAlignment.Left
    DurationLabel.ZIndex = 22
    DurationLabel.Parent = DurationSection

    -- Frame untuk input dan unit
    local DurationInputFrame = Instance.new("Frame")
    DurationInputFrame.Size = UDim2.new(1, 0, 0, 25)
    DurationInputFrame.Position = UDim2.new(0, 0, 0, 25)
    DurationInputFrame.BackgroundTransparency = 1
    DurationInputFrame.ZIndex = 22
    DurationInputFrame.Parent = DurationSection

    -- TextBox untuk input nilai
    local DurationTextBox = Instance.new("TextBox")
    DurationTextBox.Name = "DurationTextBox"
    DurationTextBox.Size = UDim2.new(0.7, -5, 1, 0)
    DurationTextBox.Position = UDim2.new(0, 0, 0, 0)
    DurationTextBox.BackgroundColor3 = Color3.fromRGB(30, 0, 60)
    DurationTextBox.BackgroundTransparency = 0.3
    DurationTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    DurationTextBox.Text = string.format("%.1f", FreezeDuration)
    DurationTextBox.Font = Enum.Font.Code
    DurationTextBox.TextSize = 12
    DurationTextBox.PlaceholderText = "Enter seconds..."
    DurationTextBox.ZIndex = 23
    DurationTextBox.Parent = DurationInputFrame

    local DurationTextBoxBorder = Instance.new("UIStroke")
    DurationTextBoxBorder.Color = Color3.fromRGB(150, 50, 255)
    DurationTextBoxBorder.Thickness = 1
    DurationTextBoxBorder.Transparency = 0.5
    DurationTextBoxBorder.Parent = DurationTextBox

    -- Label untuk unit
    local DurationUnitLabel = Instance.new("TextLabel")
    DurationUnitLabel.Size = UDim2.new(0.3, -5, 1, 0)
    DurationUnitLabel.Position = UDim2.new(0.7, 5, 0, 0)
    DurationUnitLabel.Text = "seconds"
    DurationUnitLabel.Font = Enum.Font.Code
    DurationUnitLabel.TextSize = 12
    DurationUnitLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    DurationUnitLabel.BackgroundTransparency = 1
    DurationUnitLabel.TextXAlignment = Enum.TextXAlignment.Left
    DurationUnitLabel.ZIndex = 23
    DurationUnitLabel.Parent = DurationInputFrame

    -- ==================== WIDTH SETTING ====================
    local WidthSection = Instance.new("Frame")
    WidthSection.Name = "WidthSection"
    WidthSection.Size = UDim2.new(1, -20, 0, 60)
    WidthSection.Position = UDim2.new(0, 10, 0, 80)
    WidthSection.BackgroundTransparency = 1
    WidthSection.ZIndex = 21
    WidthSection.Parent = SettingsContent

    local WidthLabel = Instance.new("TextLabel")
    WidthLabel.Size = UDim2.new(1, 0, 0, 20)
    WidthLabel.Position = UDim2.new(0, 0, 0, 0)
    WidthLabel.Text = "UI WIDTH (100-700px):"
    WidthLabel.Font = Enum.Font.Code
    WidthLabel.TextSize = 12
    WidthLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    WidthLabel.BackgroundTransparency = 1
    WidthLabel.TextXAlignment = Enum.TextXAlignment.Left
    WidthLabel.ZIndex = 22
    WidthLabel.Parent = WidthSection

    -- Frame untuk input dan unit
    local WidthInputFrame = Instance.new("Frame")
    WidthInputFrame.Size = UDim2.new(1, 0, 0, 25)
    WidthInputFrame.Position = UDim2.new(0, 0, 0, 25)
    WidthInputFrame.BackgroundTransparency = 1
    WidthInputFrame.ZIndex = 22
    WidthInputFrame.Parent = WidthSection

    -- TextBox untuk input nilai
    local WidthTextBox = Instance.new("TextBox")
    WidthTextBox.Name = "WidthTextBox"
    WidthTextBox.Size = UDim2.new(0.7, -5, 1, 0)
    WidthTextBox.Position = UDim2.new(0, 0, 0, 0)
    WidthTextBox.BackgroundColor3 = Color3.fromRGB(30, 0, 60)
    WidthTextBox.BackgroundTransparency = 0.3
    WidthTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    WidthTextBox.Text = tostring(UIWidth)
    WidthTextBox.Font = Enum.Font.Code
    WidthTextBox.TextSize = 12
    WidthTextBox.PlaceholderText = "Enter pixels..."
    WidthTextBox.ZIndex = 23
    WidthTextBox.Parent = WidthInputFrame

    local WidthTextBoxBorder = Instance.new("UIStroke")
    WidthTextBoxBorder.Color = Color3.fromRGB(150, 50, 255)
    WidthTextBoxBorder.Thickness = 1
    WidthTextBoxBorder.Transparency = 0.5
    WidthTextBoxBorder.Parent = WidthTextBox

    -- Label untuk unit
    local WidthUnitLabel = Instance.new("TextLabel")
    WidthUnitLabel.Size = UDim2.new(0.3, -5, 1, 0)
    WidthUnitLabel.Position = UDim2.new(0.7, 5, 0, 0)
    WidthUnitLabel.Text = "pixels"
    WidthUnitLabel.Font = Enum.Font.Code
    WidthUnitLabel.TextSize = 12
    WidthUnitLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    WidthUnitLabel.BackgroundTransparency = 1
    WidthUnitLabel.TextXAlignment = Enum.TextXAlignment.Left
    WidthUnitLabel.ZIndex = 23
    WidthUnitLabel.Parent = WidthInputFrame

    -- ==================== HEIGHT SETTING ====================
    local HeightSection = Instance.new("Frame")
    HeightSection.Name = "HeightSection"
    HeightSection.Size = UDim2.new(1, -20, 0, 60)
    HeightSection.Position = UDim2.new(0, 10, 0, 150)
    HeightSection.BackgroundTransparency = 1
    HeightSection.ZIndex = 21
    HeightSection.Parent = SettingsContent

    local HeightLabel = Instance.new("TextLabel")
    HeightLabel.Size = UDim2.new(1, 0, 0, 20)
    HeightLabel.Position = UDim2.new(0, 0, 0, 0)
    HeightLabel.Text = "UI HEIGHT (50-350px):"
    HeightLabel.Font = Enum.Font.Code
    HeightLabel.TextSize = 12
    HeightLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    HeightLabel.BackgroundTransparency = 1
    HeightLabel.TextXAlignment = Enum.TextXAlignment.Left
    HeightLabel.ZIndex = 22
    HeightLabel.Parent = HeightSection

    -- Frame untuk input dan unit
    local HeightInputFrame = Instance.new("Frame")
    HeightInputFrame.Size = UDim2.new(1, 0, 0, 25)
    HeightInputFrame.Position = UDim2.new(0, 0, 0, 25)
    HeightInputFrame.BackgroundTransparency = 1
    HeightInputFrame.ZIndex = 22
    HeightInputFrame.Parent = HeightSection

    -- TextBox untuk input nilai
    local HeightTextBox = Instance.new("TextBox")
    HeightTextBox.Name = "HeightTextBox"
    HeightTextBox.Size = UDim2.new(0.7, -5, 1, 0)
    HeightTextBox.Position = UDim2.new(0, 0, 0, 0)
    HeightTextBox.BackgroundColor3 = Color3.fromRGB(30, 0, 60)
    HeightTextBox.BackgroundTransparency = 0.3
    HeightTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    HeightTextBox.Text = tostring(UIHeight)
    HeightTextBox.Font = Enum.Font.Code
    HeightTextBox.TextSize = 12
    HeightTextBox.PlaceholderText = "Enter pixels..."
    HeightTextBox.ZIndex = 23
    HeightTextBox.Parent = HeightInputFrame

    local HeightTextBoxBorder = Instance.new("UIStroke")
    HeightTextBoxBorder.Color = Color3.fromRGB(150, 50, 255)
    HeightTextBoxBorder.Thickness = 1
    HeightTextBoxBorder.Transparency = 0.5
    HeightTextBoxBorder.Parent = HeightTextBox

    -- Label untuk unit
    local HeightUnitLabel = Instance.new("TextLabel")
    HeightUnitLabel.Size = UDim2.new(0.3, -5, 1, 0)
    HeightUnitLabel.Position = UDim2.new(0.7, 5, 0, 0)
    HeightUnitLabel.Text = "pixels"
    HeightUnitLabel.Font = Enum.Font.Code
    HeightUnitLabel.TextSize = 12
    HeightUnitLabel.TextColor3 = Color3.fromRGB(200, 150, 255)
    H
